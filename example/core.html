<!-- C Sphinx -->

<script language="CSphinx">
#pragma option OST
#pragma option ON
#pragma option cri-
#pragma option -CPA
#initallvar 0
#jumptomain FALSE

#startaddress 0x10000

#code32 TRUE

char   os_name[8]   = {'M','E','N','U','E','T','0','1'};
dword  os_version   = 0x00000001;
dword  start_addr   = #main;
dword  final_addr   = #______STOP______+32;
dword  alloc_mem    = 20000;
dword  x86esp_reg   = 20000;
dword  I_Param      = 0;
dword  I_Path       = 0;

%%INIT%%

void main() {
  dword context = 0;
  %%CODE%%
}

______STOP______:
</script>

<script name="WaitEvent" language="CSphinx">
  $mov eax,10
  $int 0x40
</script>

<script name="GetButtonID" language="CSphinx">
  $mov eax,17
  $int  0x40
  $shr eax,8
</script>

<script name="ExitProcess" language="CSphinx">
  $mov eax,-1;
  $int 0x40
</script>

<script name="DefineAndDrawWindow" language="CSphinx" 
int:x=0 int:y=0 
int:w=350 int:h=300
int:type="0x34"
int:color="0xFFFFFF"
str:title="Example"
int:flags=0>
  EAX = 12;
  EBX = 1;
  $int 0x40

  $xor EAX,EAX
  EBX = x << 16 + w;
  ECX = y << 16 + h;
  EDX = type << 24 | color;
  EDI = title;
  ESI = flags;
  $int 0x40

  EAX = 12;
  EBX = 2;
  $int 0x40
</script>

<script name="switch" int:compare=0 language="CSphinx">
  evalChildren(compare);
</script>

<script name="loop" language="CSphinx">
  while(1) {
    evalChildren(0);
  }
</script>

<script name="case" int:value=0 language="CSphinx">
  if (context == value) evalChildren(0);
</script>

<script name="application" language="CSphinx">
  evalChildren(0);
</script>

